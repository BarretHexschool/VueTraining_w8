import{f as h,g as r}from"./index-2bdf34eb.js";import{s as d,S as n}from"./useSweetAlertStore-77ccf049.js";const a=d(),{VITE_APP_URL:s,VITE_APP_PATH:o}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"2259buyer",BASE_URL:"/VueTraining_w8/",MODE:"production",DEV:!1,PROD:!0},f=h("cart",{state:()=>({carts:[],cartDetailNum:""}),actions:{getCartData(){r.get(`${s}/v2/api/${o}/cart`).then(t=>{this.carts=t.data.data.carts}).catch(t=>{a.swalError(t)})},cartDataExist(){this.carts.length===0&&n.fire({icon:"info",showConfirmButton:!1,title:"Oops! 你還沒選任何東西，來去挑想吃的吧~",timer:3e3})},deleteOneCart(t=null){r.delete(`${s}/v2/api/${o}/cart/${t}`).then(e=>{a.swalToastTopEnd(e.data.message),this.getCartData()}).catch(e=>{a.swalError(e)})},updateCart(t){const{product_id:e,qty:c}=t,l={product_id:e,qty:c};this.loadingItem=t.id,r.put(`${s}/v2/api/${o}/cart/${t.id}`,{data:l}).then(i=>{a.swalToastTopEnd(i.data.message),this.loadingItem="",this.getCartData()}).catch(i=>{a.swalError(i)})},swalClearAllCart(){n.fire({title:"真的要清掉已選好商品嗎？",text:"清除後，只能重新挑選商品，無法復原唷 :(",icon:"warning",showCancelButton:!0,confirmButtonText:"堅決清空重來",cancelButtonText:"先不用"}).then(t=>{t.isConfirmed&&this.cleanAllCart()})},cleanAllCart(){r.delete(`${s}/v2/api/${o}/carts`).then(t=>{n.fire("購物車已清空，重新選新的餐點吧！")}).catch(t=>{a.swalError(t)})}},getters:{}});export{f as c};
